文件：4.3 Keras框架
P1：同学们大家好，前面我们给大家介绍了本章关于神经网络组成的相关内容，本节课在其基础上，向大家介绍搭建神经网络的工具——Keras框架。
P2：Keras是当前较为适用于深度学习初学者的Python深度学习框架。我们之前所说到过的Tensorflow也是深度学习框架，而Keras可以认为是在Tensorflow上面或者是其他的框架上面所做的一层薄薄的用户层，也可以理解为是为了产生更易用性的体验，而做的一层封装。
Keras首先表现为用户友好，也就是Keras是为人类设计的，而不是为机器设计的API。它把用户体验放在首要和中心位置。而且，相同的代码可以在CPU或GPU上无缝切换运行。
然后，模块化。Keras框架所双肩的网络模型由模块构成，而模块可以以尽可能少的限制组装在一起。而且，Keras中的神经网络层、损失函数、优化器、初始化方法、激活函数、正则化方法，都是可以灵活的组合。
第三，就是易扩展性。新的模块由新的需求所产生，而所构建的新的模块是很容易添加的。由于能够轻松地创建可以提高表现力的新模块，Keras 更加适合高级研究。
基于 Python 实现。Keras 没有特定格式的单独配置文件。模型定义在 Python 代码中，这些代码紧凑，易于调试，并且易于扩展。
P3：然后，我们来看一下如图所展示的2014年到2017年在Goole搜索的各类不同的深度学习框架的趋势图。从这里可以看出来，深度学习所涉及到的框架不止一个。比如说有Pytorch的，有Torch的，有Theano的，有Caffe，还有Keras和Tensorflow的，等等。但是在这么些深度学习框架中，这个Keras有些特殊。像开车时候的油门、脚踏板那样，油门、脚踏板只给你用户提供前端的使用功能，而后端是什么样的发动机、是什么样的刹车片，你都可以灵活的变更。Keras也正如油门、脚踏板那样，它只提供前段的一个使用功能，而不做实际的张量运算，实际的各种运算都是借助于其后端的引擎而展开。从这个趋势图中可以看出来，Tensorflow在2016年的时候异军突起，而Keras，由于其与Tensorflow结合的比较紧密，其使用率也是明显的增加。而其他的几类深度学习框架也都有所再用。
P4：好了，知道了Keras，知道了Tensorflow，那么他们之间到底是一个什么样的关系呢？我们来看一下这张图。Keras是一个深度学习框架，但他并不做各种复杂的张量运算，而是借助于其所依赖的后端框架，也就是Tensorflow、Theano以及微软的CNTK，也就是各种复杂的张两类运算都是在这一层的后端框架中执行的。好，然后，我们往下看，最下面一层就是硬件层，也就是所依赖的硬件平台。比如说，我们可以训练神经网络时，可以在CPU上训练，也可以在GPU上训练。在其之上，还有一层，就是驱动层。也就是自己在安装环境的时候，要同时安装相应的驱动，比如用的英伟达的显卡，就需要安装CuDA的驱动库以及创建好的能够适用于GPU的深度神经网络模型库CuDNN，安装了这两个驱动，才能更为高效的调用GPU。而CPU上也有相应的驱动库。
P5：而在这里，当前深度学习的主要平台就是这几个。蒙特利尔大学所开发的Theano平台，Google开发的Tensorflow平台，以及微软开发的CNTK平台。除此之外，还有一个，就是具有国内自主知识产权的百度所开发的PaddlePaddle，飞浆平台。然而，这里，由于PaddlePaddle平台并不被Keras所支持，再加上Tensorflow所支持的资源较为丰富的因素，所以本门课使用Tensorflow平台给同学开展相关的演示和实验。
P6：介绍了平台之后，我们还要介绍一下资源，也就是GPU。GPU，即Graphic Processing Unit，图形处理器。谈到GPU，我们就需要知道一个叫做Nvidia，英伟达的公司。我们知道CPU大家都很熟，主要是AMD和Intel两家公司来做的，而这两家公司也做得有GPU，但最开始最专一的做GPU的公司是Nvidia，英伟达公司，其所做的GPU是目前对深度学习支持最好的，还是英伟达的GPU。我们也称之为N卡，即Nvidia的显卡。如这几张图就是我们所涉及到显卡，也就是专门用于处理图形的。在没有使用显卡的时候，主要是通过CPU的串行处理来运行的，想看一张高清照片时，是从显示器上部一行一行的逐像素的扫描的，只有CPU运行速度足够快的时候，你才看不到他这种一行一行扫描的过程。而是用了显卡，则可以借助于其并行处理图像以及深度学习数据的性能优势，以更为高效的速率来进行图像数据的处理。
P7：好，以上就是我们所介绍的关于建立深度学习的一些硬件基础，然后我们来看一下进行搭建调试工作的软件工具，这里我们用的是Jupyter Notebook，其支持本地和云端的服务。可以看到，Jupyter Notebook界面有这样的像命令行一样的框，在这样的框中可以调试运行我们的代码，这个框起到的就是一个web网页服务的功能，具体而言，就是提供了关于深度学习代码的调试接口。既可本地执行，也可web云端访问。可以说，Jupyter Notebook以较为友好的界面和更为人性化的服务，能够给深度学习初学者提供更为便捷的学习条件。
好了，同学们，以上就是我们这节课所讲的关于Keras框架的相关内容，今天的课就介绍到这里，谢谢大家。